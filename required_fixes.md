# Правки по мобилкам и автогенерации PDF (чек‑лист)

Основано на твоих скринах мобилки + примере PDF `Pa_Протактиний.pdf`.

---

## A) Периодическая таблица (основная)

### A1. Подсказка, что таблица **двигается/скроллится**
**Цель:** пользователь с первого взгляда понимает, что это «рабочая область» (панорама), а не «не влезло».

**Сделать:**
- **Краевые индикаторы** (градиенты) у таблицы:
  - слева/справа (и при необходимости сверху/снизу);
  - **появляются только если** за краем есть контент;
  - **исчезают** на соответствующем краю, когда доскроллено до упора.
- **Микро-анимация 1 раз** при первом открытии таблицы:
  - смещение канвы на ~8–12 px вправо/влево и возврат (200–300 мс);
  - повторять только один раз (первая сессия / первый визит).
- **Осознанный “надрез” по краям** (если оставляешь обрезанные элементы):
  - сделать обрез **симметричным** и одинаковым по обеим сторонам;
  - избегать вида «случайно не влезло».

**Опционально (если таблица очень большая):**
- Мини‑индикатор положения (тонкий скроллбар/ползунок), **появляется только при движении**.

---

## B) Модалки/шиты (в т.ч. «Строение атома», «Уравнитель реакций»)

### B1. Перегруз по контенту на одном экране
**Проблема:** слишком много блоков одновременно → теряется фокус.

**Сделать:**
- Разделить на **режимы/секции** (внутри модалки или вкладками):
  - **Общее** (символ, Z, масса/заряд, оболочки)
  - **Орбитали**
  - **Формулы**
- Либо (упрощённо) сделать accordion:
  - по умолчанию открыт **1 главный блок**, остальные свернуты.

### B2. Сжимаемая шапка (Large → Compact)
**Проблема:** высокая шапка съедает высоту экрана.

**Сделать:**
- При скролле уменьшать высоту шапки:
  - «большой заголовок» только вверху;
  - дальше компактная строка (sticky).

### B3. Кнопка закрытия «X»
**Проблема:** на тёмном фоне может быть малозаметна + часто маленькая зона тапа.

**Сделать:**
- Минимальная кликабельная область **≈ 44×44 dp**.
- Повысить контраст:
  - поместить в круг/плашку или сделать светлее.
- Для шитов поддержать **свайп вниз** как альтернативу.

### B4. Шит «Уравнитель реакций» перекрывает контент
**Сделать:**
- 3 состояния шита:
  - **свернут** / **half** / **fullscreen**
- В свернутом состоянии оставить только:
  - “ручку” + 1 строку (кратко), чтобы не мешал таблице.
- Заголовки/подписи внутри шита — проверить контраст (серый по тёмному местами слабый).

### B5. Читаемость орбитальной диаграммы
**Сделать:**
- Чуть увеличить межэлементные расстояния (gap) у орбиталей/стрелок.
- Опционально: визуально приглушать нижние уровни (1s–3p), оставляя акцент на верхних.

### B6. Оболочки (2e/8e/18e…) конкурируют с центральной карточкой
**Сделать:**
- Сделать их более «второстепенными»:
  - меньше размер/контраст;
  - или сворачиваемыми;
  - или показывать только при взаимодействии.

---

## C) Таблица растворимости (твоя логика — большой масштаб + скролл)

Твоё решение нормальное: «крупно, можно найти вещество». Правка нужна не в масштабе, а в UX‑подсказке.

**Сделать:**
- Те же **краевые индикаторы (градиенты)**, если есть панорамирование.
- Если есть горизонтальный скролл:
  - один раз показать лёгкую микро‑анимацию смещения.
- Подумать над «режимом поиска/подсветки» (опционально):
  - ввод вещества → подсветить его строку/столбец.

---

## D) Автогенерация PDF (критичные правки)

Пример: `Pa_Протактиний.pdf`.

### D1. `sup` попадает как текст — КРИТИЧНО
**Проблема:** электронная конфигурация выводится как `5f<sup>2</sup>`.

**Сделать (любой 1 вариант):**
- Конвертировать HTML → корректный текст до рендера PDF.
- Использовать Unicode верхние индексы (² ³ …) там, где возможно.
- Или печатать степени отдельным стилем PDF (реальный верхний индекс).

### D2. Никогда не печатать `null`
**Проблема:** `Период/Группа: 7 / null`.

**Сделать:**
- Заменять на:
  - `—` или `не определена` или `актиноиды`
- Правило: **любое null/undefined/NaN** → безопасный плейсхолдер.

### D3. Полировка под печать (желательно)
**Сделать:**
- Слегка уменьшить насыщенность заливок/цветных полос (чтобы печать не “грязнила”).
- Проверить контраст серого текста на светло‑сером фоне.

### D4. Визуальный якорь элемента (желательно)
**Сделать:**
- В шапке PDF добавить:
  - крупный символ `Pa`,
  - атомный номер в бейдже,
  - тип элемента (например «актиноид»).

---

## E) Мини‑проверка после правок (быстрый QA)

- Таблица: человек без подсказок понимает, что её можно двигать (градиенты/микро‑сдвиг работают).
- «X» в модалках нажимается легко и всегда заметен.
- Шиты не перекрывают критичный контент в основном состоянии.
- PDF: нет HTML‑тегов, нет `null`, степени выглядят правильно.
