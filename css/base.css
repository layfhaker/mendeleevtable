/* =========================================
   BASE.CSS — Базовые стили страницы (ИСПРАВЛЕНО)
   ========================================= */

/* --- Safe Area переменные для iPhone notch --- */
/* =========================================
   BASE.CSS — Базовые стили страницы
   ========================================= */

/* --- Safe Area переменные --- */
:root {
    --sat: env(safe-area-inset-top, 0px);
    --sab: env(safe-area-inset-bottom, 0px);
    --sal: env(safe-area-inset-left, 0px);
    --sar: env(safe-area-inset-right, 0px);
}

/* 1. ПЕРЕНОСИМ ФОН СЮДА */
html {
    background-color: #f0f0f0; /* Красим "подложку" всего браузера */
    height: 100%;
}

/* --- Основные стили body --- */
body {
    font-family: Arial, sans-serif;
    /* background-color: #f0f0f0;  <-- УБИРАЕМ ОТСЮДА или оставляем (не мешает) */
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    min-height: 100vh;      
    height: auto;           
    margin: 0;
    padding: 20px;          
    overflow-y: auto;       
    overflow-x: hidden;      /* Лучше hidden для десктопа, если нет таблицы */
    box-sizing: border-box;
}

/* =========================================
   АДАПТИВ
   ========================================= */
@media (max-width: 1024px) {

    html, body {
        width: 100%;
        margin: 0;
        padding: 0;
        overflow-x: auto; 
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        /* Гарантируем, что фон на мобильных тоже серый */
        background-color: #f0f0f0; 
    }

    body {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        
        /* ВАЖНО: Добавляем var(--sab) к нижнему отступу */
        /* Было 140px, стало calc(140px + safe-area) */
        padding: 10px 20px calc(140px + var(--sab)) 20px !important; 
        
        box-sizing: border-box;
    }

}

/* --- Canvas для частиц --- */
#particles-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
}



/* =========================================
   АДАПТИВ
   ========================================= */
 @media (max-width: 1024px) {

    /* Скрываем полосу прокрутки */
    body::-webkit-scrollbar {
        display: none;
    }

    body {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
}
/* Запрет выделения и grab курсор только на ДЕСКТОПЕ */
@media (min-width: 1025px) {
    html, body {
        user-select: none;
        -webkit-user-select: none;
        cursor: grab;
    }

    body.grabbing {
        cursor: grabbing;
    }
}

/* Разрешаем выделение ТОЛЬКО в текстовых блоках */
#element-info,
#element-title,
.group-content,
.search-results {
    user-select: text;
    -webkit-user-select: text;
    cursor: auto;
}

/* Скролл-контейнеры должны явно менять курсор */
.solubility-wrapper {
    cursor: grab;
    overflow: auto;
}

.solubility-wrapper:active {
    cursor: grabbing;
}
